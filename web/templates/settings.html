{{define "content"}}
<h1 class="ui inverted header">
    <i class="settings icon"></i>
    <div class="content">
        Settings
        <div class="sub header">Tune trading rules, indicators, and consensus timeframes.</div>
    </div>
</h1>

<form class="ui inverted form" method="POST" action="/settings">
    <!-- Trading: Take Profit -->
    <h3 class="ui dividing inverted header">Trading – Take Profit</h3>
    <div class="three fields">
        <div class="field">
            <label>Take Profit %</label>
            <input type="number" step="0.01" name="trading.take_profit_percentage"
                   value="{{.Config.Trading.TakeProfitPercentage}}">
        </div>
        <div class="field">
            <label>Partial Sell % at TP</label>
            <input type="number" step="0.01" name="trading.take_profit_partial_sell_percent"
                   value="{{.Config.Trading.TakeProfitPartialSellPercent}}">
        </div>
        <div class="field">
            <label>Trailing Stop Deviation %</label>
            <input type="number" step="0.01" name="trading.trailing_stop_deviation"
                   value="{{.Config.Trading.TrailingStopDeviation}}">
        </div>
    </div>

    <!-- Indicators -->
    <h3 class="ui dividing inverted header">Indicators – RSI / StochRSI</h3>
    <div class="four fields">
        <div class="field">
            <label>RSI Period</label>
            <input type="number" min="2" step="1" name="indicators.rsi_period"
                   value="{{.Config.Indicators.RSIPeriod}}">
        </div>
        <div class="field">
            <label>RSI Buy Threshold</label>
            <!-- mapped to Trading.PredictiveRSIThreshold -->
            <input type="number" min="0" max="100" step="1" name="indicators.rsi_buy_threshold"
                   value="{{.Config.Trading.PredictiveRSIThreshold}}">
        </div>
        <div class="field">
            <label>StochRSI Buy Threshold</label>
            <input type="number" min="0" max="100" step="0.1" name="indicators.stoch_rsi_buy_threshold"
                   value="{{.Config.Indicators.StochRSIBuyThreshold}}">
        </div>
        <div class="field">
            <label>StochRSI Sell Threshold</label>
            <input type="number" min="0" max="100" step="0.1" name="indicators.stoch_rsi_sell_threshold"
                   value="{{.Config.Indicators.StochRSISellThreshold}}">
        </div>
    </div>

    <!-- Consensus timeframes -->
    <h3 class="ui dividing inverted header">Consensus – Timeframes</h3>
    <div class="three fields">
        <div class="field">
            <label>Base Timeframe</label>
            <input type="text" name="consensus.base_timeframe"
                   value="{{.Config.Consensus.MultiTimeframe.BaseTimeframe}}" placeholder="e.g., 1h">
        </div>
        <div class="field">
            <label>Additional Timeframe 1</label>
            <input type="text" name="consensus.additional_timeframe_1"
                   value="{{index .Config.Consensus.MultiTimeframe.AdditionalTimeframes 0}}" placeholder="e.g., 15m">
        </div>
        <div class="field">
            <label>Additional Timeframe 2</label>
            <input type="text" name="consensus.additional_timeframe_2"
                   value="{{index .Config.Consensus.MultiTimeframe.AdditionalTimeframes 1}}" placeholder="e.g., 4h">
        </div>
    </div>

    <div class="ui divider"></div>
    <button class="ui primary button" type="submit">
        <i class="save icon"></i> Save Settings
    </button>
</form>
{{end}}
